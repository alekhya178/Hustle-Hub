<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>HustleHub Settings</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        /* Root variables for the dark theme */
        :root {
            --hh-bg-light: #201d3a;
            --hh-card-bg: #1a1730;
            --hh-text-dark: #f5f5f5;
            --hh-text-muted: rgba(245, 245, 245, 0.8);
            --hh-primary-accent: #4cb69f;
            --hh-secondary-accent: #3aa085;
            --hh-border-light: rgba(76, 182, 159, 0.2);
            --hh-input-bg: rgba(245, 245, 245, 0.1);
            --hh-button-gradient-start: #4cb69f;
            --hh-button-gradient-end: #3aa085;
            --hh-danger: #dc3545;
            --hh-warning: #ffc107;
            --hh-sidebar-bg: #1a1730;
            --hh-sidebar-border: rgba(76, 182, 159, 0.2);
            --hh-sidebar-item-hover: rgba(76, 182, 159, 0.2);
            --hh-sidebar-item-active: #4cb69f;
            --hh-sidebar-item-active-bg: rgba(76, 182, 159, 0.2);
        }
        /* interactivejs */
        #particles-js {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #201d3a 0%, #1a1730 50%, #0d0b1a 100%); /* Moved gradient here */
            z-index: -1;
            pointer-events: none;
            }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: "Inter", sans-serif;
            background-color: var(--hh-bg-light);
            color: var(--hh-text-dark);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }

        a {
            text-decoration: none;
        }

        /* Header Styles */
               .header {
    width: 100%;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 1000;
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 70px;
    padding: 0 20px;
    backdrop-filter: blur(15px);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    border-bottom: 1px solid rgba(76, 182, 159, 0.2);
}

.logo {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 24px;
    font-weight: bold;
    background: linear-gradient(to left, #4cb69f, #f5f5f5);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    color: transparent;
}

.logo i {
    font-size: 28px;
    color: #4cb69f;
}

.nav-links {
    display: flex;
    gap: 32px;
    align-items: center;
}

.nav-links a {
    text-decoration: none;
    font-size: 18px;
    font-weight: bold;
    background: linear-gradient(to left, #4cb69f, #f5f5f5);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    color: transparent;
    transition: all 0.3s ease;
    position: relative;
}

.nav-links a:hover {
    background: linear-gradient(to left, #f5f5f5, #4cb69f);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    color: transparent;
}

.nav-links a:hover::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0;
    right: 0;
    height: 2px;
    background: #4cb69f;
    border-radius: 1px;
}

.user-menu {
    display: flex;
    align-items: center;
    gap: 16px;
}

.user-menu i {
    font-size: 20px;
    cursor: pointer;
    transition: all 0.3s ease;
    color: #f5f5f5;
}

.notification i {
    color: #4cb69f;
}

.notification i:hover {
    color: #f5f5f5;
    transform: scale(1.1);
}

.user-icon {
    color: #f5f5f5;
}

.user-icon:hover {
    color: #4cb69f;
    transform: scale(1.1);
}

/* Dropdown */
.dropdown-content {
    display: none;
    position: absolute;
    right: 0;
    background: rgba(32, 29, 58, 0.98);
    min-width: 180px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.15);
    z-index: 1;
    border-radius: 8px;
    padding: 8px 0;
}

.dropdown-content a {
    color: #4cb69f;
    padding: 10px 20px;
    text-decoration: none;
    display: block;
    font-size: 16px;
}

.dropdown-content a:hover {
    background: rgba(76, 182, 159, 0.1);
}

.profile-dropdown:hover .dropdown-content {
    display: block;
}

.dropdown-divider {
    border: 0;
    border-top: 1px solid rgba(76, 182, 159, 0.2);
    margin: 8px 0;
}


@media (max-width: 768px) {
    .header {
        height: 60px;
        padding: 0 16px;
    }

    .logo {
        font-size: 20px;
    }

    .logo i {
        font-size: 24px;
    }

    .nav-links {
        display: none;
    }

    .user-menu {
        gap: 12px;
    }

    .user-menu i {
        font-size: 18px;
    }

    .dropdown-content {
        min-width: 160px;
    }

    .dropdown-content a {
        font-size: 14px;
        padding: 8px 16px;
    }

    .mobile-nav-link {
        display: block;
    }
}

@media (min-width: 768px) {
    .mobile-nav-link {
        display: none !important;
    }
}

        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--hh-text-dark);
        }

        /* Main settings content layout */
        .settings-main {
            display: flex;
            flex-grow: 1;
            justify-content: center;
            align-items: flex-start;
            width: 100%;
            padding: 32px 20px;
            margin-top: 90px;
        }

        .settings-layout-container {
            display: flex;
            justify-content: center;
            gap: 32px;
            width: 100%;
            max-width: 1400px;
        }

        /* Left Sidebar Navigation */
        .settings-sidebar {
            position: sticky;
            top: 120px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            width: 300px;
            min-width: 280px;
            border-radius: 16px;
            border: 1px solid var(--hh-sidebar-border);
            background-color: var(--hh-sidebar-bg);
            padding: 24px 20px;
            height: fit-content;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .settings-nav {
            display: flex;
            flex-direction: column;
            gap: 8px;
            width: 100%;
        }

        .settings-nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            border-radius: 8px;
            padding: 12px 16px;
            color: var(--hh-text-dark);
            font-weight: 500;
            font-size: 16px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .settings-nav-item i {
            font-size: 18px;
            transition: color 0.3s ease;
            width: 20px;
            text-align: center;
        }

        .settings-nav-item:hover {
            background-color: var(--hh-sidebar-item-hover);
            color: var(--hh-primary-accent);
            transform: translateX(5px);
        }

        .settings-nav-item:hover i {
            color: var(--hh-primary-accent);
        }

        .settings-nav-item.active {
            background-color: var(--hh-sidebar-item-active-bg);
            color: var(--hh-sidebar-item-active);
            font-weight: 600;
        }

        .settings-nav-item.active i {
            color: var(--hh-sidebar-item-active);
        }

        /* Right Content Area */
        .settings-content {
            display: flex;
            flex-direction: column;
            gap: 32px;
            flex: 1;
            max-width: 800px;
        }

        .settings-card {
            background-color: var(--hh-card-bg);
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--hh-border-light);
            padding: 32px;
            transition: all 0.3s ease;
        }

        .settings-card:hover {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        }

        .card-heading {
            display: flex;
            align-items: center;
            gap: 16px;
            font-size: 24px;
            font-weight: 700;
            color: var(--hh-text-dark);
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 2px solid var(--hh-border-light);
        }

        .card-heading i {
            font-size: 28px;
            color: var(--hh-primary-accent);
        }

        .settings-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            font-size: 16px;
            font-weight: 600;
            color: var(--hh-text-dark);
        }

        .form-group input[type="text"],
        .form-group input[type="email"],
        .form-group input[type="tel"],
        .form-group input[type="password"],
        .form-group input[type="url"],
        .form-group textarea,
        .form-group select {
            padding: 12px 16px;
            border: 1px solid var(--hh-border-light);
            border-radius: 8px;
            font-size: 16px;
            background-color: var(--hh-input-bg);
            color: var(--hh-text-dark);
            transition: all 0.3s ease;
        }

        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: var(--hh-text-muted);
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--hh-primary-accent);
            box-shadow: 0 0 0 4px rgba(76, 182, 159, 0.2);
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-group select {
            appearance: none;
            background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23f5f5f5%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-6.5%200-12.3%203.2-16.1%208.1-3.8%204.9-4.9%2011-3.1%2016.9l128%20168c4.8%206.4%2012.9%209.9%2021.2%209.9s16.4-3.5%2021.2-9.9l128-168c1.8-5.9.7-12-3.1-16.9z%22%2F%3E%3C%2Fsvg%3E");
            background-repeat: no-repeat;
            background-position: right 15px center;
            background-size: 12px;
            padding-right: 40px;
        }

        .form-group-checkbox {
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 8px 0;
        }

        .form-group-checkbox input[type="checkbox"] {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            border: 1px solid var(--hh-border-light);
            accent-color: var(--hh-primary-accent);
            cursor: pointer;
        }

        .form-group-checkbox label {
            font-weight: 500;
            color: var(--hh-text-dark);
            cursor: pointer;
        }

        .btn-save {
            align-self: flex-start;
            border-radius: 8px;
            background-image: linear-gradient(to right, var(--hh-button-gradient-start), var(--hh-button-gradient-end));
            padding: 12px 32px;
            font-size: 16px;
            font-weight: 700;
            color: var(--hh-text-dark);
            box-shadow: 0 4px 10px rgba(76, 182, 159, 0.2);
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }

        .btn-save:hover {
            background-image: linear-gradient(to left, var(--hh-button-gradient-start), var(--hh-button-gradient-end));
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(76, 182, 159, 0.3);
        }

        /* Avatar Upload Specific Styles */
        .avatar-upload {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 16px;
        }

        .avatar-preview {
            position: relative;
            width: 128px;
            height: 128px;
            overflow: hidden;
            border-radius: 50%;
            border: 4px solid var(--hh-primary-accent);
            box-shadow: 0 0 15px rgba(76, 182, 159, 0.2);
        }

        .avatar-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .avatar-preview input[type="file"] {
            display: none;
        }

        .upload-button {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 33.33%;
            background-color: rgba(0, 0, 0, 0.6);
            color: var(--hh-text-dark);
            text-align: center;
            font-size: 14px;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
        }

        .avatar-preview:hover .upload-button {
            opacity: 1;
        }

        .take-btn {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 120px;
            height: 40px;
            border: 2px solid var(--hh-primary-accent);
            border-radius: 8px;
            background: transparent;
            color: var(--hh-primary-accent);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .take-btn:hover {
            background: var(--hh-primary-accent);
            color: var(--hh-text-dark);
            transform: translateY(-2px);
        }

        .Remove {
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: var(--hh-danger);
            border-radius: 10px;
            padding: 10px 10px;
            cursor: pointer;
            color: var(--hh-text-dark);
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .Remove:hover {
            background-color: #c82333;
            transform: translateY(-2px);
        }

        /* Camera Modal Styles */
        .cam {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 9999;
            display: none;
            justify-content: center;
            align-items: center;
        }

        .cam_div {
            background: var(--hh-card-bg);
            border: 1px solid var(--hh-border-light);
            border-radius: 16px;
            padding: 30px;
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 30px;
            max-width: 90vw;
            max-height: 90vh;
            overflow-y: auto;
        }

        .opencamera {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            gap: 20px;
        }

        #camera, #photo {
            width: 300px;
            height: 300px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--hh-primary-accent);
            box-shadow: 0 0 20px rgba(76, 182, 159, 0.3);
        }

        .cam_buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }

        .cam_buttons > div {
            display: flex;
            justify-content: center;
            align-items: center;
            min-width: 120px;
            height: 45px;
            font-size: 16px;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 0 20px;
            gap: 10px;
        }

        .take {
            background: var(--hh-primary-accent);
            color: var(--hh-text-dark);
            border: none;
        }

        .take:hover {
            background: var(--hh-secondary-accent);
            transform: translateY(-2px);
        }

        .pic_ok {
            background: #28a745;
            color: var(--hh-text-dark);
        }

        .pic_ok:hover {
            background: #218838;
            transform: translateY(-2px);
        }

        .cancel-pic {
            background: var(--hh-danger);
            color: var(--hh-text-dark);
        }

        .cancel-pic:hover {
            background: #c82333;
            transform: translateY(-2px);
        }

        /* Password Input Styles */
        .password-input-container {
            position: relative;
            width: 100%;
        }

        .password-input-container input {
            width: 100%;
            padding-right: 45px;
        }

        .password-toggle {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: var(--hh-text-muted);
            transition: color 0.3s ease;
        }

        .password-toggle:hover {
            color: var(--hh-primary-accent);
        }

        #strength-msg {
            font-size: 14px;
            margin-top: 5px;
            transition: all 0.3s ease;
        }

        /* Security Log Specific Styles */
        .security-log-content {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .log-item {
            display: grid;
            grid-template-columns: 1fr 2fr auto auto;
            gap: 16px;
            align-items: center;
            border-radius: 8px;
            border: 1px solid var(--hh-border-light);
            background-color: var(--hh-input-bg);
            padding: 16px;
            transition: all 0.3s ease;
        }

        .log-item:hover {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .log-action {
            font-weight: 700;
            color: var(--hh-primary-accent);
        }

        .log-details {
            color: var(--hh-text-dark);
        }

        .log-time, .log-ip {
            font-size: 14px;
            color: var(--hh-text-muted);
            text-align: right;
        }

        .btn-view-all {
            align-self: flex-start;
            border-radius: 8px;
            border: 1px solid var(--hh-primary-accent);
            background-color: transparent;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: 600;
            color: var(--hh-primary-accent);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .btn-view-all:hover {
            background-color: var(--hh-primary-accent);
            color: var(--hh-text-dark);
            box-shadow: 0 4px 10px rgba(76, 182, 159, 0.2);
        }

        /* Account Management Specific Styles */
        .account-management-card {
            border: 1px solid var(--hh-danger);
            box-shadow: 0 5px 15px rgba(220, 53, 69, 0.1);
        }

        .account-management-card .card-heading i {
            color: var(--hh-danger);
        }

        .account-management-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            margin-top: 20px;
        }

        .account-management-actions .btn-danger,
        .account-management-actions .btn-warning {
            display: flex;
            align-items: center;
            gap: 8px;
            border-radius: 8px;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: 700;
            color: var(--hh-text-dark);
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .account-management-actions .btn-danger {
            background-color: var(--hh-danger);
        }

        .account-management-actions .btn-danger:hover {
            background-color: #c82333;
            transform: translateY(-2px);
        }

        .account-management-actions .btn-warning {
            background-color: var(--hh-warning);
            color: var(--hh-bg-light);
        }

        .account-management-actions .btn-warning:hover {
            background-color: #e0a800;
            transform: translateY(-2px);
        }

        .account-management-note {
            margin-top: 20px;
            border-left: 4px solid var(--hh-danger);
            background-color: rgba(220, 53, 69, 0.05);
            padding: 16px;
            font-size: 14px;
            color: var(--hh-text-muted);
            border-radius: 8px;
        }

        /* Mobile Sidebar Toggle */
        .mobile-sidebar-toggle {
            display: none;
            position: fixed;
            left: 20px;
            top: 100px;
            width: 50px;
            height: 50px;
            background: var(--hh-primary-accent);
            color: var(--hh-text-dark);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            z-index: 1001;
            box-shadow: 0 4px 12px rgba(76, 182, 159, 0.3);
            transition: all 0.3s ease;
        }

        .mobile-sidebar-toggle:hover {
            transform: scale(1.1);
        }

        /* Footer Styles */
        .footer {
            width: 100%;
            background-color: #0d0b1a;
            color: var(--hh-text-dark);
            padding: 40px 20px 20px 20px;
            font-family: 'Inter', sans-serif;
            margin-top: auto;
        }

        .footer-container {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            max-width: 1200px;
            margin: auto;
            gap: 30px;
        }

        .footer-about {
            flex: 1 1 250px;
        }

        .footer-logo {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--hh-text-dark);
        }

        .footer-links, .footer-support {
            flex: 1 1 150px;
        }

        .footer-links h3, .footer-support h3, .footer-social h3 {
            font-size: 18px;
            margin-bottom: 15px;
        }

        .footer-links ul, .footer-support ul {
            list-style: none;
            padding: 0;
        }

        .footer-links li, .footer-support li {
            margin-bottom: 8px;
        }

        .footer-links a, .footer-support a {
            color: var(--hh-text-muted);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-links a:hover, .footer-support a:hover {
            color: var(--hh-text-dark);
        }

        .footer-social {
            flex: 1 1 180px;
        }

        .social-icons a {
            display: inline-block;
            margin-right: 10px;
        }

        .social-icons img {
            width: 25px;
            height: 25px;
            filter: brightness(0) invert(1);
            transition: transform 0.3s ease;
        }

        .social-icons img:hover {
            transform: scale(1.1);
        }

        .footer-bottom {
            text-align: center;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            font-size: 14px;
            color: var(--hh-text-muted);
        }

        /* Responsive Media Queries */
        @media (max-width: 1200px) {
            .settings-layout-container {
                gap: 20px;
            }
            
            .settings-sidebar {
                width: 250px;
                min-width: 250px;
            }
        }
        .footer {
            background: linear-gradient(135deg, #1a1730, #0d0b1a);
            color: #f5f5f5;
            padding: 40px 20px 20px 20px;
            margin-top: 64px;
            position: relative;
            overflow: hidden;
        }

        .footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #4cb69f, #201d3a, #4cb69f);
        }

        .footer-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 32px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer-logo {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 12px;
            background: linear-gradient(45deg, #4cb69f, #f5f5f5);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
        }

        .footer-about p {
            color: rgba(245, 245, 245, 0.8);
            line-height: 1.6;
        }

        .footer-links h3,
        .footer-support h3,
        .footer-social h3 {
            font-size: 18px;
            margin-bottom: 16px;
            color: #4cb69f;
        }

        .footer-links ul,
        .footer-support ul {
            list-style: none;
            padding: 0;
        }

        .footer-links li,
        .footer-support li {
            margin-bottom: 8px;
        }

        .footer-links a,
        .footer-support a {
            color: rgba(245, 245, 245, 0.8);
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .footer-links a:hover,
        .footer-support a:hover {
            color: #4cb69f;
            transform: translateX(4px);
        }

        .social-icons {
            display: flex;
            gap: 12px;
        }

        .social-icons a {
            display: inline-block;
            width: 36px;
            height: 36px;
            background: rgba(76, 182, 159, 0.2);
            border: 1px solid #4cb69f;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4cb69f;
            transition: all 0.3s ease;
        }

        .social-icons a:hover {
            background: #4cb69f;
            color: #201d3a;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(76, 182, 159, 0.3);
        }

        .footer-bottom {
            text-align: center;
            margin-top: 32px;
            padding-top: 20px;
            border-top: 1px solid rgba(76, 182, 159, 0.3);
            font-size: 14px;
            color: rgba(245, 245, 245, 0.6);
        }
        @media (max-width: 1024px) {
            .nav-links {
                gap: 20px;
                font-size: 16px;
            }
            
            .settings-main {
                padding: 20px 15px;
            }
            
            .settings-layout-container {
                flex-direction: column;
                align-items: center;
                width: 100%;
            }
            
            .settings-sidebar {
                position: relative;
                top: 0;
                width: 100%;
                height: auto;
            }
            
            .settings-nav {
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
                gap: 10px;
            }
            
            .settings-nav-item {
                font-size: 14px;
                padding: 8px 12px;
                flex: 1;
                min-width: 200px;
                justify-content: center;
            }
            
            .settings-content {
                width: 100%;
                max-width: none;
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .mobile-menu-toggle {
                display: block;
            }
            
            .hh_header {
                padding: 0 15px;
            }
            
            .logo {
                font-size: 24px;
            }
            
            .settings-main {
                margin-top: 80px;
                padding: 15px 10px;
            }
            
            .mobile-sidebar-toggle {
                display: block;
            }
            
            .settings-sidebar {
                position: fixed;
                top: 80px;
                left: -100%;
                width: 280px;
                height: calc(100vh - 80px);
                z-index: 1500;
                transition: left 0.3s ease;
                overflow-y: auto;
                border-radius: 0;
            }
            
            .settings-sidebar.active {
                left: 0;
            }
            
            .settings-nav {
                flex-direction: column;
            }
            
            .settings-nav-item {
                justify-content: flex-start;
                min-width: auto;
                font-size: 16px;
            }
            
            .settings-card {
                padding: 20px;
            }
            
            .card-heading {
                font-size: 20px;
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .log-item {
                grid-template-columns: 1fr;
                gap: 8px;
                text-align: left;
            }
            
            .log-time, .log-ip {
                text-align: left;
            }
            
            .account-management-actions {
                flex-direction: column;
            }
            
            .account-management-actions .btn-danger,
            .account-management-actions .btn-warning {
                width: 100%;
                justify-content: center;
            }
            
            #camera, #photo {
                width: 250px;
                height: 250px;
            }
            
            .cam_div {
                padding: 20px;
                margin: 20px;
            }
        }

        @media (max-width: 480px) {
            .settings-card {
                padding: 15px;
            }
            
            .card-heading {
                font-size: 18px;
            }
            
            .btn-save {
                width: 100%;
                justify-content: center;
            }
            
            .avatar-preview {
                width: 100px;
                height: 100px;
            }
            
            #camera, #photo {
                width: 200px;
                height: 200px;
            }
            
            .cam_buttons {
                flex-direction: column;
                gap: 15px;
            }
            
            .cam_buttons > div {
                width: 100%;
                max-width: 200px;
            }
            
            .footer-container {
                flex-direction: column;
                text-align: center;
                gap: 20px;
            }
        }

        /* Utility Classes */
        .hidden {
            display: none !important;
        }

        .text-center {
            text-align: center;
        }

        .cam-div{
            display: none;
        }

        /* Smooth transitions for all interactive elements */
        button, .btn-save, .settings-nav-item, .form-group input, .form-group textarea, .form-group select {
            transition: all 0.3s ease;
        }

        .cancel-pic, .pic_ok, .take, .take-btn{
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }
    </style>
</head>
<body>
    <div id="particles-js"></div>
    
   <header class="header">
        <!-- Logo -->
        <div class="logo">
            <i class="fa-solid fa-briefcase"></i>
            HustleHub
        </div>
        <!-- Navigation -->
        <nav class="nav-links">
            <a href="./dashboard.html">Dashboard</a>
            <a href="./available.html">Available Jobs</a>
            <a href="./post_jobs.html">Post Job</a>
        </nav>
        <!-- User Menu -->
        <div class="user-menu">
            <div class="notification">
                <i class="fa-solid fa-bell"></i>
            </div>
            <div class="profile-dropdown">
                <i class="fa-solid fa-user-circle user-icon"></i>
                <div class="dropdown-content">
                    <a href="./dashboard.html" class="mobile-nav-link">Dashboard</a>
                    <a href="./available.html" class="mobile-nav-link">Available Jobs</a>
                    <a href="./post_jobs.html" class="mobile-nav-link">Post Job</a>
                    <hr class="dropdown-divider mobile-nav-link">
                    <a href="./dashboard.html">Profile</a>
                    <a href="./drafts.html">Drafts</a>
                    <a href="./save.html">Saved Jobs</a>
                    <a href="./index.html">Log Out</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Camera Modal -->
    <div class="cam">
        <div class="cam_div">
            <div class="opencamera" style="display:none">
                <video id="camera" autoplay style="display:none"></video>
                <canvas id="snapshot" width="300" height="300" style="display: none;"></canvas>
                <div class="pic_cap">
                    <img id="photo" style="display:none" alt="Captured photo" />
                </div>
            </div>
            <div class="cam_buttons" style="display:none">
                <div onclick="takePhoto()" class="take" style="display:none">
                    <i class="fa-solid fa-camera"></i> <div>Take Photo</div>
                </div>
                <div class="pic_ok" onclick="savePicture()" style="display:none;">
                    <i class="fa-solid fa-check"></i><div>Save</div>
                </div>
                <div class="cancel-pic" onclick="cancelPhoto()" style="display:none;">
                    <i class="fa-solid fa-times"></i> <div>Cancel</div>
                </div>
            </div>
        </div>
    </div>

    <main class="settings-main">
        <button class="mobile-sidebar-toggle" onclick="toggleMobileSidebar()">
            <i class="fa-solid fa-bars"></i>
        </button>
        <div class="settings-layout-container">
            <!-- Left Sidebar Navigation -->
            <aside class="settings-sidebar" id="settingsSidebar">
                <nav class="settings-nav">
                    <a href="#profile-settings" class="settings-nav-item active" onclick="showSection('profile-settings',event)">
                        <i class="fa-solid fa-user-circle"></i> Profile Settings
                    </a>
                    <a href="#personal-contact" class="settings-nav-item" onclick="showSection('personal-contact',event)">
                        <i class="fa-solid fa-address-card"></i> Personal & Contact
                    </a>
                    <a href="#notification-settings" class="settings-nav-item" onclick="showSection('notification-settings',event)">
                        <i class="fa-solid fa-bell"></i> Notification Settings
                    </a>
                    <a href="#change-password" class="settings-nav-item" onclick="showSection('change-password', event)">
                        <i class="fa-solid fa-lock"></i> Change Password
                    </a>
                    <a href="#privacy-settings" class="settings-nav-item" onclick="showSection('privacy-settings',event)">
                        <i class="fa-solid fa-shield-alt"></i> Privacy Settings
                    </a>
                    <a href="#security-log" class="settings-nav-item" onclick="showSection('security-log',event)">
                        <i class="fa-solid fa-history"></i> Security Log
                    </a>
                    <a href="#account-management" class="settings-nav-item" onclick="showSection('account-management',event)">
                        <i class="fa-solid fa-cog"></i> Account Management
                    </a>
                </nav>
            </aside>

            <!-- Right Content Area -->
            <div class="settings-content">
                <!-- Profile Settings -->
                <div id="profile-settings" class="settings-card">
                    <h2 class="card-heading">
                        <i class="fa-solid fa-user-circle"></i> Profile Settings
                    </h2>
                    <form class="settings-form">
                        <div class="form-group avatar-upload">
                            <label>Profile Picture</label>
                            <div class="avatar-preview">
                                <img src="/placeholder.svg?height=120&width=120" class="user_image" >
                                <input type="file" id="avatar-upload" name="avatar" accept="image/*" onchange="handleFileUpload(event)">
                                <label for="avatar-upload" class="upload-button">
                                    <i class="fa-solid fa-upload"></i> Upload
                                </label>
                            </div>
                            <div style="display: flex; justify-content: center; gap: 20px; margin-top: 10px;">
                                <div class="take-btn" onclick="openCamera()" >
                                    <i class="fa-solid fa-camera"></i><div>Take Photo</div>
                                </div>
                                <div class="Remove" onclick="remove_profile()">Remove Photo</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="profile-name">Full Name</label>
                            <input type="text" id="profile-name" name="full_name" placeholder="John Doe" required>
                        </div>
                        <div class="form-group">
                            <label for="profile-role">Role/Profession</label>
                            <input type="text" id="profile-role" name="role" placeholder="Full Stack Developer">
                        </div>
                        <div class="form-group">
                            <label for="profile-bio">Bio</label>
                            <textarea id="profile-bio" name="bio" rows="4" placeholder="Experienced full-stack developer passionate about building scalable web applications and creating intuitive user experiences."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="profile-skills">Skills (comma-separated)</label>
                            <input type="text" id="profile-skills" name="skills" placeholder="React, Node.js, TypeScript, Python, UI/UX design">
                        </div>
                        <div class="form-group">
                            <label for="profile-linkedin">LinkedIn Profile</label>
                            <input type="url" id="profile-linkedin" name="linkedin" placeholder="https://linkedin.com/in/johndoe">
                        </div>
                        <button type="button" class="btn-save" onclick="saveProfile()">
                            <i class="fa-solid fa-save"></i> Save Profile
                        </button>
                    </form>
                </div>

                <!-- Personal & Contact Information -->
                <div id="personal-contact" class="settings-card hidden">
                    <h2 class="card-heading">
                        <i class="fa-solid fa-address-card"></i> Personal & Contact Information
                    </h2>
                    <form class="settings-form">
                        <div class="form-group">
                            <label for="contact-email">Email Address</label>
                            <input type="email" id="contact-email" name="email" value="john.doe@example.com" required>
                        </div>
                        <div class="form-group">
                            <label for="contact-phone">Phone Number</label>
                            <input type="tel" id="contact-phone" name="phone" value="+91 98765 43210">
                        </div>
                        <div class="form-group">
                            <label for="contact-address">Street Address</label>
                            <input type="text" id="contact-address" name="address" value="123, Tech Park">
                        </div>
                        <div class="form-group">
                            <label for="contact-city">City</label>
                            <input type="text" id="contact-city" name="city" value="Mumbai">
                        </div>
                        <div class="form-group">
                            <label for="contact-country">Country</label>
                            <select id="contact-country" name="country">
                                <option value="IN" selected>India</option>
                                <option value="US">United States</option>
                                <option value="GB">United Kingdom</option>
                                <option value="CA">Canada</option>
                            </select>
                        </div>
                        <button type="button" class="btn-save" onclick="saveContact()">
                            <i class="fa-solid fa-save"></i> Save Contact Info
                        </button>
                    </form>
                </div>

                <!-- Notification Settings -->
                <div id="notification-settings" class="settings-card hidden">
                    <h2 class="card-heading">
                        <i class="fa-solid fa-bell"></i> Notification Settings
                    </h2>
                    <form class="settings-form">
                        <div class="form-group-checkbox">
                            <input type="checkbox" id="notif-email" name="email_notifications" checked>
                            <label for="notif-email">Email Notifications (Job alerts, updates)</label>
                        </div>
                        <div class="form-group-checkbox">
                            <input type="checkbox" id="notif-push" name="push_notifications" checked>
                            <label for="notif-push">In-App Notifications (Instant alerts)</label>
                        </div>
                        <div class="form-group-checkbox">
                            <input type="checkbox" id="notif-sms" name="sms_notifications">
                            <label for="notif-sms">SMS Notifications (Critical updates)</label>
                        </div>
                        <div class="form-group-checkbox">
                            <input type="checkbox" id="notif-feedback" name="feedback_notifications" checked>
                            <label for="notif-feedback">Feedback Notifications (New feedback on posts)</label>
                        </div>
                        <div class="form-group">
                            <label for="email-frequency">Email Frequency</label>
                            <select id="email-frequency" name="email_frequency">
                                <option value="instant">Instant</option>
                                <option value="daily" selected>Daily Digest</option>
                                <option value="weekly">Weekly Summary</option>
                            </select>
                        </div>
                        <button type="button" class="btn-save" onclick="saveNotifications()">
                            <i class="fa-solid fa-save"></i> Save Notifications
                        </button>
                    </form>
                </div>

                <!-- Change Password -->
                <div id="change-password" class="settings-card hidden">
                    <h2 class="card-heading">
                        <i class="fa-solid fa-lock"></i> Change Password
                    </h2>
                    <form class="settings-form">
                        <div class="form-group">
                            <label for="current-password">Current Password</label>
                            <input type="password" id="current-password" name="current_password" required>
                        </div>
                        <div class="form-group">
                            <label for="new-password">New Password</label>
                            <div class="password-input-container">
                                <input type="password" id="new-password" name="new_password" oninput="checkPasswordStrength()" required>
                                <i class="fa-solid fa-eye password-toggle" id="eye-open" onclick="togglePassword('new-password', 'eye-open', 'eye-close')"></i>
                                <i class="fa-solid fa-eye-slash password-toggle hidden" id="eye-close" onclick="togglePassword('new-password', 'eye-close', 'eye-open')"></i>
                            </div>
                            <p id="strength-msg" style="color: #dc3545; font-size: 14px; margin-top: 5px;">
                                Password must contain at least 8 characters, 1 uppercase, 1 number, and 1 special character
                            </p>
                        </div>
                        <div class="form-group">
                            <label for="confirm-password">Confirm New Password</label>
                            <div class="password-input-container">
                                <input type="password" id="confirm-password" name="confirm_password" required>
                                <i class="fa-solid fa-eye password-toggle" id="eye-open-confirm" onclick="togglePassword('confirm-password', 'eye-open-confirm', 'eye-close-confirm')"></i>
                                <i class="fa-solid fa-eye-slash password-toggle hidden" id="eye-close-confirm" onclick="togglePassword('confirm-password', 'eye-close-confirm', 'eye-open-confirm')"></i>
                            </div>
                        </div>
                        <button type="button" class="btn-save" onclick="changePassword()">
                            <i class="fa-solid fa-key"></i> Change Password
                        </button>
                    </form>
                </div>

                <!-- Privacy Settings -->
                <div id="privacy-settings" class="settings-card hidden">
                    <h2 class="card-heading">
                        <i class="fa-solid fa-shield-alt"></i> Privacy Settings
                    </h2>
                    <form class="settings-form">
                        <div class="form-group-checkbox">
                            <input type="checkbox" id="privacy-profile-visibility" name="profile_visibility" checked>
                            <label for="privacy-profile-visibility">Make my profile visible to recruiters</label>
                        </div>
                        <div class="form-group-checkbox">
                            <input type="checkbox" id="privacy-data-sharing" name="data_sharing">
                            <label for="privacy-data-sharing">Allow third-party data sharing</label>
                        </div>
                        <div class="form-group">
                            <label for="data-retention">Data Retention Policy</label>
                            <select id="data-retention" name="data_retention">
                                <option value="1year">1 Year</option>
                                <option value="3years" selected>3 Years</option>
                                <option value="5years">5 Years</option>
                                <option value="forever">Forever</option>
                            </select>
                        </div>
                        <button type="button" class="btn-save" onclick="savePrivacy()">
                            <i class="fa-solid fa-save"></i> Save Privacy Settings
                        </button>
                    </form>
                </div>

                <!-- Security Log -->
                <div id="security-log" class="settings-card hidden">
                    <h2 class="card-heading">
                        <i class="fa-solid fa-history"></i> Security Log
                    </h2>
                    <div class="security-log-content">
                        <div class="log-item">
                            <span class="log-action">Login</span>
                            <span class="log-details">from Chrome on Windows 10</span>
                            <span class="log-time">2 hours ago</span>
                            <span class="log-ip">192.168.1.100</span>
                        </div>
                        <div class="log-item">
                            <span class="log-action">Password Change</span>
                            <span class="log-details">via Web Interface</span>
                            <span class="log-time">3 days ago</span>
                            <span class="log-ip">10.0.0.5</span>
                        </div>
                        <div class="log-item">
                            <span class="log-action">Login Failed</span>
                            <span class="log-details">Incorrect password attempt</span>
                            <span class="log-time">1 week ago</span>
                            <span class="log-ip">203.0.113.45</span>
                        </div>
                        <button type="button" class="btn-view-all">
                            <i class="fa-solid fa-eye"></i> View All Activity
                        </button>
                    </div>
                </div>

                <!-- Account Management -->
                <div id="account-management" class="settings-card account-management-card hidden">
                    <h2 class="card-heading">
                        <i class="fa-solid fa-cog"></i> Account Management
                    </h2>
                    <div class="account-management-actions">
                        <button type="button" class="btn-danger" onclick="deleteAccount()">
                            <i class="fa-solid fa-trash-alt"></i> Delete Account
                        </button>
                        <button type="button" class="btn-warning" onclick="pauseAccount()">
                            <i class="fa-solid fa-pause-circle"></i> Pause Account
                        </button>
                    </div>
                    <p class="account-management-note">
                        <i class="fa-solid fa-exclamation-triangle"></i>
                        Deleting your account is permanent and cannot be undone. Please proceed with caution.
                    </p>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-about">
                <h2 class="footer-logo">HustleHub</h2>
                <p>Connecting talent with part-time opportunities. Your trusted platform for flexible work.</p>
            </div>
            <div class="footer-links">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="./dashboard.html">Home</a></li>
                    <li><a href="./available.html">Find Jobs</a></li>
                    <li><a href="./post_jobs.html">Post a Job</a></li>
                    <li><a href="./about.html">About Us</a></li>
                    <li><a href="./contact.html">Contact</a></li>
                </ul>
            </div>
            <div class="footer-support">
                <h3>Support</h3>
                <ul>
                    <li><a href="./help.html">Help Center</a></li>
                    <li><a href="./faq.html">FAQs</a></li>
                    <li><a href="./terms.html">Terms & Conditions</a></li>
                    <li><a href="./privacy.html">Privacy Policy</a></li>
                </ul>
            </div>
            <div class="footer-social">
                <h3>Follow Us</h3>
                <div class="social-icons">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p> 2025 HustleHub. All rights reserved.</p>
        </div>
    </footer>
    <script>
        let cameraStream = null;
        let imageData = '';

        // Navigation Functions
        function showSection(sectionId,event) {
            event.preventDefault();
            // Hide all sections
            document.querySelectorAll('.settings-card').forEach(card => {
                card.classList.add('hidden');
            });
            
            // Remove active class from all nav items
            document.querySelectorAll('.settings-nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.remove('hidden');
            
            // Add active class to clicked nav item
            event.target.classList.add('active');
            
            // Close mobile sidebar if open
            if (window.innerWidth <= 768) {
                document.getElementById('settingsSidebar').classList.remove('active');
            }
        }

        function toggleMobileSidebar() {
            const sidebar = document.getElementById('settingsSidebar');
            sidebar.classList.toggle('active');
        }

        // Helper function to get current user - FIXED
        function getCurrentUser() {
            // Use a consistent user identifier instead of relying on form input
            return 'hustlehub_user'; // Fixed user identifier
        }

        // Camera Functions - Improved
        function openCamera() {
            const modal = document.querySelector('.cam');
            const video = document.getElementById('camera');
            const takeBtn = document.querySelector('.take');
            
            modal.style.display = 'flex';
            
            // Stop any existing stream
            if (cameraStream) {
                cameraStream.getTracks().forEach(track => track.stop());
            }
            
            // Start camera with better error handling
            navigator.mediaDevices.getUserMedia({
                video: {
                    width: { ideal: 640 },
                    height: { ideal: 640 },
                    facingMode: 'user'
                }
            })
            .then(stream => {
                cameraStream = stream;
                video.srcObject = stream;
                video.style.display = 'block';
                takeBtn.style.display = 'flex';
                
                // Reset other elements
                document.getElementById('photo').style.display = 'none';
                document.querySelector('.pic_ok').style.display = 'none';
                document.querySelector('.cancel-pic').style.display = 'none';
                document.getElementsByClassName('cam_div')[0].style.display = 'flex';
                document.getElementsByClassName('opencamera')[0].style.display = 'flex';
                document.getElementsByClassName('cam_buttons')[0].style.display = 'flex';
            })
            .catch(err => {
                console.error('Camera access error:', err);
                alert('Camera access denied or not available. Please check your permissions.');
                cancelPhoto();
            });
            
        }

        function takePhoto() {
            const video = document.getElementById('camera');
            const canvas = document.getElementById('snapshot');
            const photo = document.getElementById('photo');
            const context = canvas.getContext('2d');
            
            // Set canvas size
            canvas.width = 300;
            canvas.height = 300;
            
            // Calculate crop area for square image
            const videoWidth = video.videoWidth;
            const videoHeight = video.videoHeight;
            const size = Math.min(videoWidth, videoHeight);
            const sx = (videoWidth - size) / 2;
            const sy = (videoHeight - size) / 2;
            
            // Draw cropped image to canvas
            context.drawImage(video, sx, sy, size, size, 0, 0, canvas.width, canvas.height);
            
            // Convert to data URL
            imageData = canvas.toDataURL('image/jpeg', 0.8);
            
            // Show photo preview
            photo.src = imageData;
            photo.style.display = 'block';
            video.style.display = 'none';
            
            // Show save/cancel buttons, hide take button
            document.querySelector('.take').style.display = 'none';
            document.querySelector('.pic_ok').style.display = 'flex';
            document.querySelector('.cancel-pic').style.display = 'flex';
        }

        function savePicture() {
            // Update profile image
            const userImage = document.querySelector('.user_image');
            if (userImage && imageData) {
                userImage.src = imageData;
                localStorage.setItem('savedImage', imageData);
            }
            
            cancelPhoto();
            alert('Profile picture updated successfully!');
        }

        function cancelPhoto() {
            const modal = document.querySelector('.cam');
            const video = document.getElementById('camera');
            const photo = document.getElementById('photo');
            
            // Stop camera stream
            if (cameraStream) {
                cameraStream.getTracks().forEach(track => track.stop());
                cameraStream = null;
            }
            
            // Reset UI
            modal.style.display = 'none';
            video.style.display = 'none';
            photo.style.display = 'none';
            
            // Reset buttons
            document.querySelector('.take').style.display = 'none';
            document.querySelector('.pic_ok').style.display = 'none';
            document.querySelector('.cancel-pic').style.display = 'none';
            
            imageData = '';
        }

        // File upload handler
        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (file) {
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const userImage = document.querySelector('.user_image');
                        if (userImage) {
                            userImage.src = e.target.result;
                            localStorage.setItem('savedImage', e.target.result);
                            alert('Profile picture uploaded successfully!');
                        }
                    };
                    reader.readAsDataURL(file);
                } else {
                    alert('Please select a valid image file.');
                }
            }
        }

        // Password Functions
        function togglePassword(inputId, currentIconId, otherIconId) {
            const input = document.getElementById(inputId);
            const currentIcon = document.getElementById(currentIconId);
            const otherIcon = document.getElementById(otherIconId);
            
            if (input.type === 'password') {
                input.type = 'text';
                currentIcon.classList.add('hidden');
                otherIcon.classList.remove('hidden');
            } else {
                input.type = 'password';
                currentIcon.classList.add('hidden');
                otherIcon.classList.remove('hidden');
            }
        }

        function checkPasswordStrength() {
            const password = document.getElementById('new-password').value;
            const message = document.getElementById('strength-msg');
            
            if (!password) {
                message.textContent = 'Password must contain at least 8 characters, 1 uppercase, 1 number, and 1 special character';
                message.style.color = '#dc3545';
                return;
            }
            
            const hasLength = password.length >= 8;
            const hasUpper = /[A-Z]/.test(password);
            const hasLower = /[a-z]/.test(password);
            const hasNumber = /\d/.test(password);
            const hasSpecial = /[!@#$%^&*(),.?":{}|<>]/.test(password);
            
            const score = [hasLength, hasUpper, hasLower, hasNumber, hasSpecial].filter(Boolean).length;
            
            if (score < 3) {
                message.textContent = 'Weak password ';
                message.style.color = '#dc3545';
            } else if (score < 5) {
                message.textContent = 'Medium strength password ';
                message.style.color = '#ffc107';
            } else {
                message.textContent = 'Strong password ';
                message.style.color = '#28a745';
            }
        }

        // Save Functions
        function saveProfile() {
            const user = getCurrentUser();
            const data = {
                name: document.getElementById('profile-name').value,
                role: document.getElementById('profile-role').value,
                bio: document.getElementById('profile-bio').value,
                skills: document.getElementById('profile-skills').value,
                linkedin: document.getElementById('profile-linkedin').value,
            };
            
            localStorage.setItem(`profile_${user}`, JSON.stringify(data));
            alert('Profile saved successfully!');
        }

        function saveContact() {
            const user = getCurrentUser();
            const contact = {
                email: document.getElementById('contact-email').value,
                phone: document.getElementById('contact-phone').value,
                address: document.getElementById('contact-address').value,
                city: document.getElementById('contact-city').value,
                country: document.getElementById('contact-country').value
            };
            
            localStorage.setItem(`contact_${user}`, JSON.stringify(contact));
            alert('Contact information saved successfully!');
        }

        function saveNotifications() {
            const user = getCurrentUser();
            const notifications = {
                email: document.getElementById('notif-email').checked,
                push: document.getElementById('notif-push').checked,
                sms: document.getElementById('notif-sms').checked,
                feedback: document.getElementById('notif-feedback').checked,
                frequency: document.getElementById('email-frequency').value
            };
            
            localStorage.setItem(`notifications_${user}`, JSON.stringify(notifications));
            alert('Notification settings saved successfully!');
        }

        function savePrivacy() {
            const user = getCurrentUser();
            const privacy = {
                visibility: document.getElementById('privacy-profile-visibility').checked,
                sharing: document.getElementById('privacy-data-sharing').checked,
                retention: document.getElementById('data-retention').value
            };
            
            localStorage.setItem(`privacy_${user}`, JSON.stringify(privacy));
            alert('Privacy settings saved successfully!');
        }

        function changePassword() {
            const currentPassword = document.getElementById('current-password').value;
            const newPassword = document.getElementById('new-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            
            if (!currentPassword || !newPassword || !confirmPassword) {
                alert('Please fill in all password fields');
                return;
            }
            
            if (newPassword !== confirmPassword) {
                alert('New password and confirm password do not match');
                document.getElementById('confirm-password').value = '';
                return;
            }
            
            // Check password strength
            const hasLength = newPassword.length >= 8;
            const hasUpper = /[A-Z]/.test(newPassword);
            const hasLower = /[a-z]/.test(newPassword);
            const hasNumber = /\d/.test(newPassword);
            const hasSpecial = /[!@#$%^&*(),.?":{}|<>]/.test(newPassword);
            
            if (!(hasLength && hasUpper && hasLower && hasNumber && hasSpecial)) {
                alert('Please choose a stronger password that meets all requirements');
                return;
            }
            
            // Clear form
            document.getElementById('current-password').value = '';
            document.getElementById('new-password').value = '';
            document.getElementById('confirm-password').value = '';
            
            // Reset strength indicator
            checkPasswordStrength();
            
            alert('Password changed successfully!');
        }

        // Account Management Functions
        function deleteAccount() {
            const confirmation = prompt('To delete your account, please type "DELETE" to confirm:');
            
            if (confirmation === 'DELETE') {
                if (confirm('This action cannot be undone. Are you absolutely sure?')) {
                    alert('Account deleted successfully');
                    // Clear all stored data
                    Object.keys(localStorage).forEach(key => {
                        if (key.startsWith('profile_') || key.startsWith('contact_') ||
                             key.startsWith('notifications_') || key.startsWith('privacy_') ||
                             key === 'savedImage') {
                            localStorage.removeItem(key);
                        }
                    });
                    
                    window.location.href="Homepageiship.html";
                }
            } else if (confirmation !== null) {
                alert('Account deletion cancelled - incorrect confirmation');
            }
        }

        function pauseAccount() {
            if (confirm('Are you sure you want to pause your account?\n\nYou can reactivate it at any time.')) {
                alert('Account has been paused successfully');
                setTimeout(() => {
                    window.location.href = '/';
                }, 2000);
            }
        }

        // Load user data on page load - FIXED
        function loadUserData() {
            const user = getCurrentUser(); // Now uses consistent user identifier
            
            // Load profile data
            const profileData = JSON.parse(localStorage.getItem(`profile_${user}`) || '{}');
            if (Object.keys(profileData).length > 0) {
                document.getElementById('profile-name').value = profileData.name || '';
                document.getElementById('profile-role').value = profileData.role || '';
                document.getElementById('profile-bio').value = profileData.bio || '';
                document.getElementById('profile-skills').value = profileData.skills || '';
                document.getElementById('profile-linkedin').value = profileData.linkedin || '';
            }
            
            // Load contact data
            const contactData = JSON.parse(localStorage.getItem(`contact_${user}`) || '{}');
            if (Object.keys(contactData).length > 0) {
                document.getElementById('contact-email').value = contactData.email || '';
                document.getElementById('contact-phone').value = contactData.phone || '';
                document.getElementById('contact-address').value = contactData.address || '';
                document.getElementById('contact-city').value = contactData.city || '';
                document.getElementById('contact-country').value = contactData.country || '';
            }
            
            // Load notification data
            const notifData = JSON.parse(localStorage.getItem(`notifications_${user}`) || '{}');
            if (Object.keys(notifData).length > 0) {
                document.getElementById('notif-email').checked = notifData.email !== false;
                document.getElementById('notif-push').checked = notifData.push !== false;
                document.getElementById('notif-sms').checked = notifData.sms === true;
                document.getElementById('notif-feedback').checked = notifData.feedback !== false;
                document.getElementById('email-frequency').value = notifData.frequency || 'daily';
            }
            
            // Load privacy data
            const privacyData = JSON.parse(localStorage.getItem(`privacy_${user}`) || '{}');
            if (Object.keys(privacyData).length > 0) {
                document.getElementById('privacy-profile-visibility').checked = privacyData.visibility !== false;
                document.getElementById('privacy-data-sharing').checked = privacyData.sharing === true;
                document.getElementById('data-retention').value = privacyData.retention || '3years';
            }
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', () => {
            loadUserData();
            
            // Load saved image
            const savedImage = localStorage.getItem('savedImage');
            if (savedImage) {
                const userImage = document.querySelector('.user_image');
                if (userImage) {
                    userImage.src = savedImage;
                }
            }
        });

        // Handle window resize
        window.addEventListener('resize', () => {
            if (window.innerWidth > 768) {
                document.getElementById('settingsSidebar').classList.remove('active');
            }
        });

        // Handle escape key
        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape') {
                document.getElementById('settingsSidebar').classList.remove('active');
                cancelPhoto();
            }
        });

        // Prevent form submission
        document.querySelectorAll('form').forEach(form => {
            form.addEventListener('submit', (e) => {
                e.preventDefault();
            });
        });

        function remove_profile() {
            // Clear the image from the page
            const userImage = document.getElementsByClassName('user_image')[0];
            if (userImage) {
                userImage.src = '/placeholder.svg?height=120&width=120'; // Reset to placeholder
            }
            alert('Profile photo removed successfully.')
            // Remove the saved image from localStorage
            localStorage.removeItem('savedImage');
        }
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script>
        /* Particles.js Configuration */
        particlesJS('particles-js', {
            "particles": {
                "number": {
                    "value": 80,
                    "density": {
                        "enable": true,
                        "value_area": 800
                    }
                },
                "color": {
                    "value": ["#4cb69f", "#f5f5f5", "#201d3a", "#0d0b1a"]
                },
                "shape": {
                    "type": "circle",
                    "stroke": {
                        "width": 0,
                        "color": "#000000"
                    },
                    "polygon": {
                        "nb_sides": 5
                    },
                    "image": {
                        "src": "img/github.svg",
                        "width": 100,
                        "height": 100
                    }
                },
                "opacity": {
                    "value": 0.5,
                    "random": true,
                    "anim": {
                        "enable": true,
                        "speed": 0.8,
                        "opacity_min": 0.2,
                        "sync": false
                    }
                },
                "size": {
                    "value": 3,
                    "random": true,
                    "anim": {
                        "enable": true,
                        "speed": 40,
                        "size_min": 0.1,
                        "sync": false
                    }
                },
                "line_linked": {
                    "enable": true,
                    "distance": 150,
                    "color": "#4cb69f",
                    "opacity": 0.4,
                    "width": 1
                },
                "move": {
                    "enable": true,
                    "speed": 3,
                    "direction": "none",
                    "random": true,
                    "straight": false,
                    "out_mode": "out",
                    "bounce": false,
                    "attract": {
                        "enable": false,
                        "rotateX": 600,
                        "rotateY": 1200
                    }
                }
            },
            "interactivity": {
                "detect_on": "canvas",
                "events": {
                    "onhover": {
                        "enable": true,
                        "mode": "grab"
                    },
                    "onclick": {
                        "enable": true,
                        "mode": "push"
                    },
                    "resize": true
                },
                "modes": {
                    "grab": {
                        "distance": 140,
                        "line_linked": {
                            "opacity": 1
                        }
                    },
                    "push": {
                        "particles_nb": 4
                    }
                }
            },
            "retina_detect": true
        });
    </script>
</body>
</html>
